const a=(e=300)=>new Promise(t=>setTimeout(t,e)),n=()=>{try{const e=localStorage.getItem("parentsUI_settings");return e&&JSON.parse(e).theme||"light"}catch(e){return console.warn("Failed to load theme from localStorage, using default:",e),"light"}},o=e=>{try{const t=localStorage.getItem("parentsUI_settings");let s={};t&&(s=JSON.parse(t)),s.theme=e,localStorage.setItem("parentsUI_settings",JSON.stringify(s))}catch(t){console.warn("Failed to save theme to localStorage:",t)}},r=async()=>(await a(100),n()),c=async e=>(await a(200),o(e),document.documentElement.setAttribute("data-theme",e),document.documentElement.classList.toggle("dark",e==="dark"),{success:!0,theme:e,message:`Theme set to ${e}`}),l=async()=>{await a(200);const t=n()==="light"?"dark":"light";return o(t),document.documentElement.setAttribute("data-theme",t),document.documentElement.classList.toggle("dark",t==="dark"),{success:!0,theme:t,message:`Theme toggled to ${t}`}},m={getCurrentTheme:r,setTheme:c,toggleTheme:l};export{m as default,r as getCurrentTheme,c as setTheme,l as toggleTheme};
